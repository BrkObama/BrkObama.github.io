<!-- v9: carrito integrado (resumen ‚Üí datos ‚Üí mailto) + Poppins/Montserrat -->
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hank&#39;s &amp; Company ‚Äî Tienda Online</title>
  <meta name="description" content="Hank&#39;s &amp; Company ¬∑ Moda esencial con env√≠o r√°pido. Compra camisetas, sudaderas y accesorios." />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0a0a0a; --panel:#0e0e0e; --text:#e6ffe9; --muted:#9bb29e;
      --brand:#2f7d32; --brand-2:#1d5e20;
      --stroke:rgba(230,255,233,.10);
      --card:linear-gradient(180deg,rgba(14,14,14,.92),rgba(14,14,14,.6));
    }
    *{box-sizing:border-box}
    html,body{
      margin:0;height:100%;
      background:
        radial-gradient(900px 420px at 85% -10%, rgba(47,125,50,.18), transparent 60%),
        radial-gradient(900px 420px at 10% -20%, rgba(29,94,32,.12), transparent 60%),
        var(--bg);
      color:var(--text);
      font:16px/1.6 "Poppins","Montserrat",system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    h1,h2,h3{font-family:"Poppins","Montserrat",sans-serif;font-weight:800;letter-spacing:.2px;margin:0 0 .4rem}
    p,li,button,input,select,textarea{font-family:"Poppins","Montserrat",sans-serif;font-weight:400}
    img{max-width:100%;display:block}
    a{color:inherit;text-decoration:none}
    .container{max-width:1150px;margin:auto;padding:0 1rem}

    /* Header */
    header{position:sticky;top:0;z-index:50;background:linear-gradient(180deg,rgba(10,10,10,.94),rgba(10,10,10,.7));backdrop-filter:saturate(140%) blur(8px);border-bottom:1px solid var(--stroke)}
    .nav{min-height:64px;display:flex;align-items:center;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:.7rem;font-weight:800;letter-spacing:.2px}
    .brand .logo{width:30px;height:30px;border-radius:9px;background:#000 url('./assets/logo-heart.jpg') center/cover no-repeat;box-shadow:0 0 26px rgba(47,125,50,.35);border:1px solid rgba(47,125,50,.5)}
    .links{display:flex;gap:1rem}
    .links a{padding:.45rem .65rem;border-radius:.6rem;color:var(--muted)}
    .links a:hover{color:var(--text);background:rgba(47,125,50,.15)}
    .btn{display:inline-flex;align-items:center;gap:.45rem;padding:.65rem 1rem;border-radius:.9rem;border:1px solid var(--stroke);background:linear-gradient(180deg,rgba(20,20,20,.95),rgba(20,20,20,.65));box-shadow:0 8px 24px rgba(0,0,0,.35);cursor:pointer;font-weight:600}
    .btn:hover{transform:translateY(-1px);border-color:rgba(47,125,50,.55);box-shadow:0 10px 28px rgba(47,125,50,.22)}
    .btn.brand{border-color:rgba(47,125,50,.6)}

    /* Hero */
    .hero{display:grid;gap:2rem;grid-template-columns:1.2fr .8fr;align-items:center;padding:4.8rem 0 2.2rem}
    .eyebrow{font-size:.85rem;color:var(--muted);display:flex;gap:.5rem;flex-wrap:wrap}
    .chip{border:1px solid var(--stroke);padding:.25rem .6rem;border-radius:.7rem}
    .hero h1{font-size:clamp(2rem,4.1vw,3.2rem);line-height:1.08}
    .hero p{color:var(--muted)}
    .mock{border:1px solid var(--stroke);border-radius:1rem;background:var(--card);padding:1rem;display:grid;place-items:center}
    .mock img{border-radius:.7rem}

    /* Filtros */
    .filters{display:flex;gap:.6rem;flex-wrap:wrap;margin:1.2rem 0;padding:.6rem;border:1px solid var(--stroke);border-radius:.8rem;background:linear-gradient(180deg,rgba(18,18,18,.85),rgba(18,18,18,.55))}
    .input{display:flex;align-items:center;gap:.4rem;background:#0f0f0f;border:1px solid var(--stroke);border-radius:.6rem;padding:.55rem .7rem}
    .input input, .input select{background:transparent;border:none;outline:none;color:var(--text)}

    /* Grid productos */
    .catalog{padding:1rem 0 3rem}
    .grid{display:grid;gap:1rem;grid-template-columns:repeat(4,1fr)}
    .card{background:var(--card);border:1px solid var(--stroke);border-radius:1rem;overflow:hidden;display:flex;flex-direction:column}
    .card .img-wrap{aspect-ratio:4/5;background:linear-gradient(120deg,#0c0c0c,#111);display:grid;place-items:center}
    .price{display:flex;align-items:center;gap:.4rem}
    .old{color:var(--muted);text-decoration:line-through;font-size:.95rem}
    .badge{font-size:.75rem;padding:.18rem .45rem;border:1px solid var(--stroke);border-radius:.5rem;color:#b7fbb7;background:rgba(47,125,50,.18)}
    .card .body{padding:.9rem}
    .sizes{display:flex;gap:.35rem;flex-wrap:wrap;margin:.4rem 0 .6rem}
    .size{border:1px solid var(--stroke);padding:.25rem .5rem;border-radius:.4rem;cursor:pointer}
    .size.active{border-color:rgba(47,125,50,.7);box-shadow:0 0 0 2px rgba(47,125,50,.18) inset}
    .buy{margin-top:auto;display:flex;gap:.5rem}

    /* Drawer / carrito */
    .drawer{position:fixed;inset:0 0 0 auto;display:none}
    .drawer.open{display:block}
    .overlay{position:absolute;inset:0;background:rgba(0,0,0,.55)}
    .panel{position:absolute;right:0;top:0;height:100%;width:min(440px,92%);background:linear-gradient(180deg,rgba(12,12,12,.98),rgba(12,12,12,.92));border-left:1px solid var(--stroke);display:grid;grid-template-rows:auto 1fr auto}
    .panel header,.panel footer{padding:1rem;border-bottom:1px solid var(--stroke)}
    .panel footer{border-top:1px solid var(--stroke);border-bottom:none}
    .items{overflow:auto;padding:1rem;display:grid;gap:.8rem}
    .item{display:grid;grid-template-columns:64px 1fr auto;gap:.7rem;align-items:center;border:1px solid var(--stroke);border-radius:.6rem;padding:.5rem;background:rgba(20,20,20,.65)}
    .qty{display:flex;align-items:center;gap:.4rem}
    .field{display:block}
    .field input,.field textarea{
      width:100%;padding:.65rem .8rem;border-radius:.6rem;border:1px solid var(--stroke);
      background:#0f0f0f;color:var(--text)
    }

    /* Footer */
    .footer{border-top:1px solid var(--stroke);padding:2rem 0;color:var(--muted);text-align:center}

    /* Artists */
    .artists{padding:2.2rem 0 3rem}
    .artists .wrap{display:grid;gap:1rem;grid-template-columns:1fr .9fr;align-items:center;border:1px solid var(--stroke);border-radius:1rem;padding:1rem;background:linear-gradient(180deg,rgba(18,18,18,.9),rgba(18,18,18,.6))}
    .artists h3{margin:.2rem 0}

    /* Responsive */
    @media (max-width: 1000px){.grid{grid-template-columns:repeat(3,1fr)}.hero{grid-template-columns:1fr}.artists .wrap{grid-template-columns:1fr}}
    @media (max-width: 720px){.grid{grid-template-columns:repeat(2,1fr)}.links{display:none}.hero{padding-top:4.2rem}}
    @media (max-width: 460px){.grid{grid-template-columns:1fr}}

    /* VIDEO BG ‚Äî a√±ade el v√≠deo como fondo detr√°s del contenido */
    .bgfx{
      position:fixed;
      left:0; right:0; bottom:0;
      top:64px;                 /* se recalcula por JS */
      z-index:-1;
      pointer-events:none;
      overflow:hidden;
    }
    .bgfx video{
      width:100%;
      height:100%;
      object-fit:cover;
      filter:brightness(.38) saturate(1.1);
    }
    .bgfx-overlay{
      position:absolute; inset:0;
      background:
        radial-gradient(1200px 600px at 85% -10%, rgba(47,125,50,.22), transparent 50%),
        radial-gradient(900px 420px at 10% -20%, rgba(29,94,32,.14), transparent 55%);
      mix-blend-mode:screen;
      pointer-events:none;
    }

  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container nav">
      <a class="brand" href="#inicio" aria-label="Ir al inicio">
        <span class="logo" aria-hidden="true"></span>
        <span>Hank&#39;s &amp; Company</span>
      </a>
      <nav class="links" aria-label="Secciones">
        <a href="#novedades">Novedades</a>
        <a href="#catalogo">Cat√°logo</a>
        <a href="#contacto">Contacto</a>
      </nav>
      <button class="btn brand" id="btn-carrito" type="button" onclick="openDrawer()" aria-label="Abrir carrito">
        üõí <span id="cart-count" aria-live="polite">0</span>
      </button>
    </div>
  </header>

  <!-- VIDEO BG (debajo del header) -->
  <div class="bgfx">
    <video id="bg-video" src="./assets/bg.mp4" autoplay muted loop playsinline></video>
    <div class="bgfx-overlay"></div>
  </div>

  <!-- Hero -->
  <main id="inicio" class="container hero" role="main">
    <section>
      <div class="eyebrow">
        <span class="chip">Env√≠o 24‚Äì48h</span>
        <span class="chip">Devoluci√≥n 30 d√≠as</span>
        <span class="chip">Pago seguro</span>
      </div>
      <h1>Only for Hank's Brand</h1>
      <p>Negro + verde Hank&#39;s. Tejidos duraderos, cortes que sientan bien y precios sin humo. Compra ahora y viste mejor.</p>
      <div style="display:flex;gap:.6rem;flex-wrap:wrap;margin-top:1rem">
        <a class="btn brand" href="#catalogo">Ver cat√°logo</a>
        <a class="btn" href="#novedades">Novedades</a>
      </div>
    </section>
    <aside class="mock" aria-label="Logo Hank&#39;s &amp; Company">
      <img src="./assets/logo-heart.jpg" alt="Logo Hank&#39;s & Company"/>
    </aside>
  </main>

  <!-- Filtros y cat√°logo -->
  <section id="catalogo" class="container catalog">
    <h2 style="margin:.2rem 0 0.4rem">Cat√°logo</h2>
    <div class="filters" role="region" aria-label="Filtros de productos">
      <div class="input"><span>üîé</span><input id="q" placeholder="Buscar prenda (p. ej., sudadera)"/></div>
      <div class="input">
        <label for="tipo" class="sr" style="position:absolute;left:-9999px">Tipo</label>
        <select id="tipo">
          <option value="">Todos los tipos</option>
          <option value="camiseta">Camisetas</option>
          <option value="sudadera">Sudaderas</option>
          <option value="pantalon">Pantalones</option>
          <option value="accesorio">Accesorios</option>
        </select>
      </div>
      <div class="input">
        <label for="orden" class="sr" style="position:absolute;left:-9999px">Ordenar</label>
        <select id="orden">
          <option value="pop">Ordenar: Popular</option>
          <option value="asc">Precio: menor a mayor</option>
          <option value="desc">Precio: mayor a menor</option>
        </select>
      </div>
      <button class="btn" id="btn-limpiar">Limpiar filtros</button>
    </div>

    <div id="grid" class="grid" aria-live="polite"></div>
  </section>

  <!-- Contacto simple -->
  <section id="contacto" class="container" style="padding:1rem 0 3rem">
    <div style="display:grid;gap:1rem;grid-template-columns:1.2fr .8fr;align-items:center">
      <div>
        <h2>¬øNecesitas ayuda con la talla?</h2>
        <p class="muted" style="color:var(--muted)">Escr√≠benos y te respondemos en pocas horas. Tambi√©n atendemos por IG.</p>
        <ul style="color:var(--muted)">
          <li>Correo: -</li>
          <li>Instagram: hanks_company</li>
        </ul>
      </div>
      <div class="mock">
        <p style="margin:0;color:var(--muted)">Formulario real pr√≥ximamente. Esta es una demo funcional 100% est√°tica.</p>
      </div>
    </div>
  </section>

  <!-- Drawer del carrito (Resumen + Datos) -->
  <div id="drawer" class="drawer" aria-hidden="true">
    <div class="overlay" id="close-drawer" aria-label="Cerrar carrito" role="button" tabindex="0"></div>

    <div class="panel" role="dialog" aria-labelledby="carrito-titulo">
      <header>
        <h3 id="carrito-titulo" style="margin:.2rem 0">Tu carrito</h3>
        <p style="margin:0;color:var(--muted)">Revisa tus art√≠culos o contin√∫a para introducir tus datos.</p>
      </header>

      <!-- Paso 1: Resumen -->
      <div id="cart-step" class="items"></div>

      <!-- Paso 2: Datos del cliente -->
      <div id="form-step" class="items" style="display:none">
        <form id="checkout-form" novalidate>
          <div style="display:grid;gap:.8rem">
            <div style="display:grid;gap:.6rem;grid-template-columns:1fr 1fr">
              <label class="field">Nombre y apellidos
                <input type="text" id="f-nombre" required placeholder="Nombre y apellidos">
              </label>
              <label class="field">Email
                <input type="email" id="f-email" required placeholder="tucorreo@ejemplo.com">
              </label>
            </div>

            <div style="display:grid;gap:.6rem;grid-template-columns:1fr 1fr">
              <label class="field">Tel√©fono
                <input type="tel" id="f-telefono" required placeholder="+34 600 000 000" pattern="^[0-9+\\s-]{7,}$">
              </label>
              <label class="field">Pa√≠s
                <input type="text" id="f-pais" required value="Espa√±a">
              </label>
            </div>

            <label class="field">Direcci√≥n
              <input type="text" id="f-direccion" required placeholder="Calle, n√∫mero, piso">
            </label>

            <div style="display:grid;gap:.6rem;grid-template-columns:2fr 1fr">
              <label class="field">Ciudad
                <input type="text" id="f-ciudad" required>
              </label>
              <label class="field">C√≥digo postal
                <input type="text" id="f-cp" required pattern="^[0-9]{4,6}$">
              </label>
            </div>

            <label class="field">Notas del pedido (opcional)
              <textarea id="f-notas" rows="3" placeholder="Instrucciones de entrega‚Ä¶"></textarea>
            </label>
          </div>
        </form>
      </div>

      <footer id="drawer-footer">
        <!-- Footer din√°mico (cambia seg√∫n paso) -->
        <div id="cart-footer">
          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:.8rem">
            <strong>Total</strong>
            <strong id="cart-total">0,00 ‚Ç¨</strong>
          </div>
          <div style="display:flex;gap:.6rem">
            <button class="btn" id="btn-vaciar" type="button">Vaciar</button>
            <button class="btn brand" id="btn-continuar" type="button">Continuar</button>
          </div>
        </div>

        <div id="form-footer" style="display:none">
          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:.8rem">
            <strong>Total</strong>
            <strong id="cart-total-form">0,00 ‚Ç¨</strong>
          </div>
          <div style="display:flex;gap:.6rem;flex-wrap:wrap">
            <button class="btn" id="btn-volver" type="button">Volver</button>
            <button class="btn brand" id="btn-enviar" type="button">Enviar pedido (demo)</button>
          </div>
          <p id="checkout-msg" style="margin:.5rem 0 0;color:var(--muted)"></p>
        </div>
      </footer>
    </div>
  </div>

  <!-- Artists -->
  <section class="container artists">
    <div class="wrap">
      <div>
        <h3>Programmed by the best artists</h3>
        <p style="color:var(--muted)">Gracias al equipo de dise√±o por convertir ideas en piezas que la gente quiere vestir. Negro impecable, verde Hank&#39;s y actitud.</p>
      </div>
      <div class="mock"><img src="./assets/artists-3d.jpg" alt="Arte 3D Hank&#39;s"/></div>
    </div>
  </section>

  <footer class="footer">
    <p>¬© <span id="year"></span> Hank&#39;s &amp; Company ‚Äî Hecho con cari√±o y buen gusto.</p>
  </footer>

  <script>
    // ===== Datos de demo con tus fotos =====
    const PRODUCTS = [
      {id:'tee-skate', nombre:'Astro black shirt', tipo:'camiseta', precio:24.90, popular:10, img:'./assets/tee-skate.jpg', tallas:['S','M','L','XL'], etiqueta:'Nuevo'},
      {id:'tee-grid', nombre:'Blue Heart black shirt', tipo:'camiseta', precio:22.90, popular:9, img:'./assets/tee-grid.jpg', tallas:['S','M','L','XL']},
      {id:'tee-front', nombre:'Green Heart black shirt', tipo:'camiseta', precio:19.90, popular:8, img:'./assets/tee-front.jpg', tallas:['S','M','L','XL']},
      {id:'hoodie-astro', nombre:'Hoodie Astro Black', tipo:'sudadera', precio:39.90, popular:7, img:'./assets/hoodie-astro.jpg', tallas:['S','M','L','XL'], etiqueta:'Best-seller'}
    ];

    const state = { query:'', tipo:'', orden:'pop', cart:[] };
    const grid = document.getElementById('grid');
    const q = document.getElementById('q');
    const tipo = document.getElementById('tipo');
    const orden = document.getElementById('orden');
    const btnLimpiar = document.getElementById('btn-limpiar');

    function money(n){ return n.toFixed(2).replace('.', ',') + ' ‚Ç¨'; }

    function render(){
      let items = PRODUCTS.filter(p =>
        (!state.tipo || p.tipo===state.tipo) &&
        (!state.query || p.nombre.toLowerCase().includes(state.query))
      );
      if(state.orden==='asc') items.sort((a,b)=>a.precio-b.precio);
      else if(state.orden==='desc') items.sort((a,b)=>b.precio-a.precio);
      else items.sort((a,b)=>b.popular-a.popular);

      grid.innerHTML = items.map(renderCard).join('');
      attachCardListeners();
    }

    function renderCard(p){
      const badge = p.etiqueta ? `<span class="badge">${p.etiqueta}</span>` : '';
      const sizes = p.tallas.map((t,i)=>`<button class="size ${i===0?'active':''}" data-size="${t}">${t}</button>`).join('');
      return `
      <article class="card" data-id="${p.id}">
        <div class="img-wrap">
          <img src="${p.img}" alt="${p.nombre}" loading="lazy"/>
        </div>
        <div class="body">
          <div style="display:flex;align-items:center;justify-content:space-between;gap:.6rem">
            <h3 style="margin:.1rem 0 0;font-size:1.05rem">${p.nombre}</h3>
            ${badge}
          </div>
          <div class="price"><strong>${money(p.precio)}</strong></div>
          <div class="sizes" role="group" aria-label="Selecciona talla">${sizes}</div>
          <div class="buy">
            <button class="btn brand add">A√±adir üõí</button>
            <button class="btn" title="Guardar para luego">‚ô°</button>
          </div>
        </div>
      </article>`;
    }

    function attachCardListeners(){
      document.querySelectorAll('.card .sizes').forEach(group=>{
        group.addEventListener('click', e=>{
          if(e.target.classList.contains('size')){
            group.querySelectorAll('.size').forEach(s=>s.classList.remove('active'));
            e.target.classList.add('active');
          }
        });
      });
      document.querySelectorAll('.card .add').forEach(btn=>{
        btn.addEventListener('click',()=>{
          const card = btn.closest('.card');
          const id = card.dataset.id;
          const prod = PRODUCTS.find(p=>p.id===id);
          const sel = card.querySelector('.size.active')?.dataset.size || prod.tallas[0];
          addToCart({...prod, talla: sel});
        });
      });
    }

// ===== Carrito funcional: abrir, cerrar y manejar productos =====
const drawer = document.getElementById('drawer');
const btnCart = document.getElementById('btn-carrito');
const closeDrawerBtn = document.getElementById('close-drawer');
const cartStep = document.getElementById('cart-step');
const formStep = document.getElementById('form-step');
const cartFooter = document.getElementById('cart-footer');
const formFooter = document.getElementById('form-footer');
const cartTotal = document.getElementById('cart-total');
const cartTotalForm = document.getElementById('cart-total-form');
const cartCount = document.getElementById('cart-count');

const btnContinuar = document.getElementById('btn-continuar');
const btnVaciar = document.getElementById('btn-vaciar');
const btnVolver = document.getElementById('btn-volver');
const btnEnviar = document.getElementById('btn-enviar');

function openDrawer() {
  drawer.classList.add('open');
  drawer.setAttribute('aria-hidden', 'false');
  showCartStep();
}
window.openDrawer = openDrawer;

function closeDrawer() {
  drawer.classList.remove('open');
  drawer.setAttribute('aria-hidden', 'true');
}

// Conecta el bot√≥n del carrito
btnCart.addEventListener('click', openDrawer);
closeDrawerBtn.addEventListener('click', closeDrawer);
document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeDrawer(); });

function addToCart(item) {
  const key = item.id + '|' + item.talla;
  const found = state.cart.find(i => i.key === key);
  if (found) found.qty += 1;
  else state.cart.push({ key, id: item.id, nombre: item.nombre, talla: item.talla, precio: item.precio, img: item.img, qty: 1 });
  renderCart();
  openDrawer();
}

function removeFromCart(key) {
  state.cart = state.cart.filter(i => i.key !== key);
  renderCart();
}

function changeQty(key, delta) {
  const it = state.cart.find(i => i.key === key);
  if (!it) return;
  it.qty += delta;
  if (it.qty <= 0) removeFromCart(key);
  else renderCart();
}

function emptyCart() {
  state.cart = [];
  renderCart();
}

function renderCart() {
  cartStep.innerHTML = state.cart.length
    ? state.cart.map(i => `
      <div class="item">
        <img src="${i.img}" alt="${i.nombre}" width="64" height="64"/>
        <div>
          <div style="display:flex;justify-content:space-between;gap:.6rem">
            <strong>${i.nombre}</strong>
            <button class="btn" onclick="removeFromCart('${i.key}')" title="Quitar">‚úï</button>
          </div>
          <div style="color:var(--muted)">Talla ${i.talla}</div>
          <div class="qty">
            <button class="btn" onclick="changeQty('${i.key}',-1)">‚àí</button>
            <span>${i.qty}</span>
            <button class="btn" onclick="changeQty('${i.key}',1)">Ôºã</button>
          </div>
        </div>
        <div><strong>${money(i.precio * i.qty)}</strong></div>
      </div>`).join('')
    : '<p style="color:var(--muted)">Tu carrito est√° vac√≠o.</p>';

  const total = state.cart.reduce((s, i) => s + i.precio * i.qty, 0);
  cartTotal.textContent = money(total);
  cartTotalForm.textContent = money(total);
  cartCount.textContent = state.cart.reduce((s, i) => s + i.qty, 0);
}

function showFormStep() {
  if (!state.cart.length) {
    alert('A√±ade alg√∫n art√≠culo antes de continuar.');
    return;
  }
  cartStep.style.display = 'none';
  cartFooter.style.display = 'none';
  formStep.style.display = 'block';
  formFooter.style.display = 'block';
}

function showCartStep() {
  cartStep.style.display = 'block';
  cartFooter.style.display = 'block';
  formStep.style.display = 'none';
  formFooter.style.display = 'none';
}

// Botones inferiores
btnContinuar.addEventListener('click', showFormStep);
btnVolver.addEventListener('click', showCartStep);
btnVaciar.addEventListener('click', emptyCart);

// Enviar pedido (abre cliente de correo)
btnEnviar.addEventListener('click', () => {
  const nombre = document.getElementById('f-nombre').value.trim();
  const email = document.getElementById('f-email').value.trim();
  const tel = document.getElementById('f-telefono').value.trim();
  const pais = document.getElementById('f-pais').value.trim();
  const dir = document.getElementById('f-direccion').value.trim();
  const ciudad = document.getElementById('f-ciudad').value.trim();
  const cp = document.getElementById('f-cp').value.trim();
  const notas = document.getElementById('f-notas').value.trim();

  if (!nombre || !email || !tel || !pais || !dir || !ciudad || !cp) {
    document.getElementById('checkout-msg').textContent = 'Completa todos los campos obligatorios.';
    return;
  }
  if (!state.cart.length) {
    document.getElementById('checkout-msg').textContent = 'Tu carrito est√° vac√≠o.';
    return;
  }

  const total = state.cart.reduce((s, i) => s + i.precio * i.qty, 0);
  const cuerpoTxt =
`Pedido Hank's & Company

Art√≠culos:
${state.cart.map(i => `- ${i.nombre} (talla ${i.talla}) x${i.qty} ‚Üí ${(i.precio * i.qty).toFixed(2)} ‚Ç¨`).join('\n')}

Total: ${total.toFixed(2)} ‚Ç¨

Datos del cliente:
Nombre: ${nombre}
Email: ${email}
Tel√©fono: ${tel}
Direcci√≥n: ${dir}, ${cp} ${ciudad}, ${pais}
Notas: ${notas || '-'}`;

  const destinatario = 'hernangm2006@gmail.com';
  const asunto = encodeURIComponent("Nuevo pedido - Hank's & Company");
  const cuerpo = encodeURIComponent(cuerpoTxt);
  window.location.href = `mailto:${destinatario}?subject=${asunto}&body=${cuerpo}`;
  document.getElementById('checkout-msg').textContent = 'Abriendo tu cliente de correo para enviar el pedido‚Ä¶';
});

    // Filtros
    q.addEventListener('input', ()=>{ state.query = q.value.trim().toLowerCase(); render(); });
    tipo.addEventListener('change', ()=>{ state.tipo = tipo.value; render(); });
    orden.addEventListener('change', ()=>{ state.orden = orden.value; render(); });
    btnLimpiar.addEventListener('click', ()=>{ q.value=''; tipo.value=''; orden.value='pop'; state.query=''; state.tipo=''; state.orden='pop'; render(); });

    // VIDEO BG: ajusta el top al alto real del header
    (function(){
      const header = document.querySelector('header');
      const bgfx   = document.querySelector('.bgfx');
      if(!header || !bgfx) return;
      function placeBG(){ bgfx.style.top = header.getBoundingClientRect().height + 'px'; }
      placeBG();
      addEventListener('resize', placeBG);
    })();

    // Init
    document.getElementById('year').textContent = new Date().getFullYear();
    render();
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hank's & Company</title>
  <style>
    :root {
      --verde-hank: #2fa94f;
      --negro: #0a0a0a;
      --gris: #1a1a1a;
      --texto: #e8f5e9;
      --muted: #9e9e9e;
    }

    /* ===================== */
    /* Drawer (carrito)      */
    /* ===================== */
    .drawer {
      position: fixed;
      top: 0; right: 0; bottom: 0;
      width: 380px;
      background: var(--gris);
      color: var(--texto);
      transform: translateX(100%);
      transition: transform 0.4s ease, opacity 0.3s ease;
      opacity: 0;
      z-index: 9999;
      overflow-y: auto;
      border-left: 2px solid var(--verde-hank);
    }
    .drawer.open {
      transform: translateX(0);
      opacity: 1;
    }

    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      z-index: 9998;
    }
    .drawer.open + .overlay {
      display: block;
      animation: fadeIn 0.4s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; } to { opacity: 1; }
    }

    .drawer header {
      background: var(--verde-hank);
      color: var(--negro);
      font-weight: 700;
      padding: 1rem;
      text-align: center;
      position: sticky;
      top: 0;
    }

    .drawer .content {
      padding: 1rem;
    }
  </style>
